# object.getownpropertydescriptors

[![](https://img.shields.io/endpoint?url=https://github-actions-badge-u3jn4tfpocch.runkit.sh/es-shims/Object.getOwnPropertyDescriptors)](https://github.com/es-shims/Object.getOwnPropertyDescriptors/actions) [![](https://codecov.io/gh/es-shims/Object.getOwnPropertyDescriptors/branch/main/graphs/badge.svg)](https://app.codecov.io/gh/es-shims/Object.getOwnPropertyDescriptors/) [![](https://david-dm.org/es-shims/Object.getOwnPropertyDescriptors.svg)](https://david-dm.org/es-shims/Object.getOwnPropertyDescriptors) [![](https://david-dm.org/es-shims/Object.getOwnPropertyDescriptors/dev-status.svg)](https://david-dm.org/es-shims/Object.getOwnPropertyDescriptors#info=devDependencies) [![](http://img.shields.io/npm/l/object.getownpropertydescriptors.svg)](https://github.com/giulibar/Konect/tree/36adf0373135e1ba10f3740caa61d089557aa08e/node_modules/object.getownpropertydescriptors/LICENSE/README.md) [![](http://img.shields.io/npm/dm/object.getownpropertydescriptors.svg)](http://npm-stat.com/charts.html?package=object.getownpropertydescriptors)

[![](https://nodei.co/npm/object.getownpropertydescriptors.png?downloads=true&stars=true)](https://npmjs.org/package/object.getownpropertydescriptors)

An ES2017 spec-compliant shim for `Object.getOwnPropertyDescriptors` that works in ES5. Invoke its "shim" method to shim `Object.getOwnPropertyDescriptors` if it is unavailable, and if `Object.getOwnPropertyDescriptor` is available.

This package implements the [es-shim API](https://github.com/es-shims/api) interface. It works in an ES3-supported environment and complies with the [spec](https://github.com/tc39/ecma262/pull/582).

## Example

```javascript
var getDescriptors = require('object.getownpropertydescriptors');
var assert = require('assert');
var obj = { normal: Infinity };
var enumDescriptor = {
    enumerable: false,
    writable: false,
    configurable: true,
    value: true
};
var writableDescriptor = {
    enumerable: true,
    writable: true,
    configurable: true,
    value: 42
};
var symbol = Symbol();
var symDescriptor = {
    enumerable: true,
    writable: true,
    configurable: false,
    value: [symbol]
};

Object.defineProperty(obj, 'enumerable', enumDescriptor);
Object.defineProperty(obj, 'writable', writableDescriptor);
Object.defineProperty(obj, 'symbol', symDescriptor);

var descriptors = getDescriptors(obj);

assert.deepEqual(descriptors, {
    normal: {
        enumerable: true,
        writable: true,
        configurable: true,
        value: Infinity
    },
    enumerable: enumDescriptor,
    writable: writableDescriptor,
    symbol: symDescriptor
});
```

```javascript
var getDescriptors = require('object.getownpropertydescriptors');
var assert = require('assert');
/* when Object.getOwnPropertyDescriptors is not present */
delete Object.getOwnPropertyDescriptors;
var shimmedDescriptors = getDescriptors.shim();
assert.equal(shimmedDescriptors, getDescriptors);
assert.deepEqual(shimmedDescriptors(obj), getDescriptors(obj));
```

```javascript
var getDescriptors = require('object.getownpropertydescriptors');
var assert = require('assert');
/* when Object.getOwnPropertyDescriptors is present */
var shimmedDescriptors = getDescriptors.shim();
assert.notEqual(shimmedDescriptors, getDescriptors);
assert.deepEqual(shimmedDescriptors(obj), getDescriptors(obj));
```

## Tests

Simply clone the repo, `npm install`, and run `npm test`

